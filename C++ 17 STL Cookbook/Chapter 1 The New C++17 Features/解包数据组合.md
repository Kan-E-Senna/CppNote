# 解包数据组合

一个最常见的需求是，我们可能希望用一个函数返回多个值。譬如说实现一个divide函数，然后返回商和余数。通常的做法有两种，第一种是使用引用或者指针，第二种是返回一个structure或者std::pair，然后从返回的结果中取值。C++17提供了新语法可以直接进行取值。使用类似下面的语法即可

```c++
auto [var1, var2,...] = (struct, std::pair, std::tuple, or array);
auto &[var1, var2,...] = (struct, std::pair, std::tuple, or array);
const auto [var1, var2,...] = (struct, std::pair, std::tuple, or array);
const auto &[var1, var2,...] = (struct, std::pair, std::tuple, or array);
```

## 例子

```c++
struct employee{
    std::string name;
    int ID;
    double score;
};

using namespace std::string_literals;

int main() {
    employee alice{"Alice"s, 1, 85.0};
    auto &[N, I, S] = alice;
    std::cout << N << " " << I << " " << S << std::endl;
    return 0;
}
```

```shell
Alice 1 85
```

```c++
std::pair<int, int> divide(int A, int B){
    return std::pair<int, int>(A/B, A%B);
}

int main() {
    auto [Q, R] = divide(17, 11);
    std::cout << Q << " " << R << std::endl;
    return 0;
}
```

```shell
1 6
```

## Before C++17

在C++17之前，这样的事有一个比较低效的方案，就是利用std::tie

首先必须引入tuple头文件

```c++
#include <tuple>
```

然后你必须清楚数据组合中的数据类型，然后进行声明

```c++
int Q, R;
```

最后再用std::tie接受结果

```c++
std::tie(Q, R) = divide(17, 11);
std::cout << Q << " " << R << std::endl;
```

```c++
1 6
```

