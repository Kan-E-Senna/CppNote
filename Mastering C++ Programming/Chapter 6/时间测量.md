# 时间测量

有的时候我们可能希望知道一个函数，或者一个模块运行用了多少时间，此时我们需要使用chrono库中的打点功能。

```c++
#include <chrono>
```

## 标记起点：

```c++
auto start = std::chrono::high_resolution_clock::now();
```

## 运行模块

这里我们只是简单的先从标准输入中获取一个值，然后打印出来：

```c++
int a;
std::cin >> a;
std::cout << a << std::endl;
```

## 标记终点

```c++
auto end = std::chrono::high_resolution_clock::now();
```

然后我们就可以计算两个时间点的差：

```c++
auto diff = end - start;
```

但是要注意的是，这个diff的实际类型是time_point，应该是与硬件中与时间相关的数值，而并非直接就是一个代表ms的double。

可以使用diff.count()来获取diff的值，但是基本得不到有用的信息：

```c++
std::cout << diff.count() << std::endl;
// 1436182000 // 这个值随程序的不同而不同，但可能没有太明显的意义，只能用来比较大小。
```

如果我们希望用毫秒或者秒等来表示的话，就需要进行转换：

## 转换成毫秒：

```c++
auto diff_ms = std::chrono::duration<double, std::milli>(diff).count();
```

## 转换成纳秒

```c++
auto diff_ns = std::chrono::duration<double, std::nano>(diff).count();
```

注意，这里使用的是std::milli和std::nano。似乎也只有这两种。