# 25. capitalizeing an  article title

描述：希望实现一个函数，使得能把输入的字符串，所有单词首字母大写。

譬如：输入the c++ challenge，改为The C++ Challenge.

代码如下（非原书代码）：

```c++
std::string capitalize(std::string const &text){
    std::stringstream result;
    bool newWord = true;
    for(auto const c:text){
        newWord = newWord || std::ispunct(c) || std::isspace(c);
        if(std::isalpha(c)){
            if(newWord){
                result << static_cast<char>(std::toupper(c));
                newWord = false;
            }else{
                result << static_cast<char>(std::tolower(c));
            }
        }else{
            result << c;
        }
    }
    return result.str();
}
```

几点注释：

line 1: 这是一个const的引用，首先我们不打算在函数体内修改参数，其次使用const引用，我们在正式使用的时候，既可以使用左值，也可以使用右值（但是如果使用move语义的话，虽然不会报错，但是move实际上未发生）。

line 2: 使用stringstream来存储字节流，而并非使用字符串拼接，这点很值得学习。

line 3 & 5 & 9: 使用newWord来标识下一个是不是该读入一个新单词。一开始的时候newWord就是true。然后如果读入一个字母，就把newWord置为false。当读到了一个标点或者空格的时候，又再次把newWord置为true。

line 5: 使用std::ispunct来判断是否是一个标点符号， 使用std::isspace来判断是否是一个空格。

line 6: 使用std::isalpha来判断是否是一个字母。

要注意的是std::ispunct，std::isspace，std::isalpha它们的返回值不是bool，而是int。如果在范围内，返回一个非0的int，如果不在，就返回0。目前尚不清楚这个非0的int的具体含义，这里知道就好。

line 8: 使用<<操作符来拼接stringstream。注意，这里必须使用static_cast\<char\>来进行转换，因为std::toupper()和std::tolower()的返回值都不是char类型，而是一个数值类型。具体来说是返回了对应字符的ASCII的值。

line 17: 使用.str()来返回一个string。

```c++
int main() {
    auto s = "hello world"s;
    std::cout << capitalize(s) << std::endl;
    std::cout << capitalize("c++ "s + "challenge."s) << std::endl;
    std::cout << capitalize("This is a C++ example!"s) << std::endl;
    return 0;
}
```

```shell
Hello World
C++ Challenge.
This Is A C++ Example!
```

