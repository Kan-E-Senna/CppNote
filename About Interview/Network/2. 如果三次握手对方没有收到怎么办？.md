# 2. 如果三次握手对方没有收到怎么办？

1. 假如是第一次握手没收到，这个时候是客户端发送，服务端没收到，那么过一段时间客户端发现没有回应，就会重传一个请求连接的报文。
2. 如果是第二次握手没收到，这个时候是服务端发送，客户端没收到，服务端此时调用accept()处于阻塞状态，客户端这个时候是无法判断到底是第一次握手时发送的报文服务端没收到，还是服务端发来的报文没收到，这个时候客户端会再次发送请求连接的报文给服务端。
3. 如果是第三次握手没收到，此时是客户端发送，服务端没收到，客户端在第二次握手后即进入ESTABLISHED状态，而服务端仍然处在SYN-RECT的状态。此时服务端无法判断是第二次握手客户端没收到，还是第三次握手服务端没收到，因此超时重传一个ACK=1的报文给客户端，如果超过超时重传次数，那么服务端解除accept()阻塞状态，断开连接。这个时候如果再接到客户端发来的报文，则发回RST报文，通知客户端关闭连接。